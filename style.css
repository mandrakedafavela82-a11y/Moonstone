/* RESET */
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: 'Arial', sans-serif;
  background-color: black;
}

/* Fundo inicial */
.background {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at bottom, #1a1a2e 0%, #000 100%);
  overflow: hidden;
  z-index: 0;
}

.moon {
  position: absolute;
  top: 20%;
  left: 50%;
  width: 180px;
  height: 180px;
  background: radial-gradient(circle at 30% 30%, #fff 0%, #ddd 40%, #999 70%, #777 100%);
  border-radius: 50%;
  box-shadow: 0 0 60px 30px rgba(255, 255, 200, 0.15);
  transform: translateX(-50%);
  animation: moonGlow 6s ease-in-out infinite alternate;
}

@keyframes moonGlow {
  0% { box-shadow: 0 0 40px 15px rgba(255, 255, 220, 0.2); }
  100% { box-shadow: 0 0 80px 40px rgba(255, 255, 200, 0.4); }
}

.stars::before, .stars::after {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: transparent url('https://www.transparenttextures.com/patterns/stardust.png') repeat;
  animation: twinkle 6s ease-in-out infinite alternate;
  opacity: 0.7;
}

@keyframes twinkle {0%{opacity:0.5;}100%{opacity:1;}}
.clouds { position: absolute; top:0; left:0; width:200%; height:100%; background:url('https://www.transparenttextures.com/patterns/clouds.png') repeat-x; opacity:0.1; animation:moveClouds 60s linear infinite; }
@keyframes moveClouds {0%{transform:translateX(0);}100%{transform:translateX(-50%);}}

/* Créditos */
.credits { position:absolute; width:100%; height:100%; display:flex; justify-content:center; align-items:center; text-shadow:1px 1px 3px rgba(0,0,0,0.7); z-index:1; }
.credit-text { color:#fff; text-align:center; transform: translateY(100vh); animation: scrollCredits 15s linear forwards; }
.credit-text p { margin:5px 0; font-size:1.2rem; transition:opacity 1s ease-out; }
.fade-out-paragraphs p { opacity:0; }
.moonstone-logo { width:400px; opacity:0; transform: scale(0.8); animation: nameAppear 1.5s ease forwards; animation-delay:15s; }

@keyframes scrollCredits {0%{transform:translateY(100vh);}100%{transform:translateY(-50%);}}
@keyframes nameAppear {0%{opacity:0;transform:scale(0.8);}60%{opacity:1;transform:scale(1.1);}100%{opacity:1;transform:scale(1);}}

/* Tela do mapa */
#map-screen { position:absolute; top:0; left:0; width:100%; height:100%; background: radial-gradient(circle at bottom,#01010a 0%,#000 80%); display:none; opacity:0; transition:opacity 1.5s ease-in-out; z-index:2; }
#map-screen.active { display:block; opacity:1; }

/* Fundo do mapa com estrelas e lua */
.map-background { position:absolute; width:100%; height:100%; z-index:0; overflow:hidden; }
.map-stars { position:absolute; width:200%; height:200%; background:url('https://www.transparenttextures.com/patterns/stardust.png') repeat; }
.layer1 { opacity:0.4; animation:twinkleStars 8s ease-in-out infinite alternate; transform:scale(1.2);}
.layer2 { opacity:0.6; animation:twinkleStars 6s ease-in-out infinite alternate; transform:scale(1);}
.layer3 { opacity:0.8; animation:twinkleStars 4s ease-in-out infinite alternate; transform:scale(0.9);}
@keyframes twinkleStars {0%{opacity:0.5;}100%{opacity:1;}}

.crescent-moon { position:absolute; top:20%; right:15%; width:120px; height:120px; background: radial-gradient(circle at 30%30%, #fff 0%, #ccc 40%, #999 100%); border-radius:50%; box-shadow:0 0 50px 20px rgba(255,255,200,0.2); animation:floatMoon 8s ease-in-out infinite alternate; z-index:1; overflow:hidden; }
.crescent-moon::after { content:''; position:absolute; top:0; left:35%; width:100%; height:100%; background:#000; border-radius:50%; }
@keyframes floatMoon {0%{transform:translateY(0px);}100%{transform:translateY(15px);}}

/* Container do mapa */
.map-container { position:absolute; top:60%; left:50%; transform:translate(-50%,-50%); width:70%; z-index:2; transition: transform 0.3s ease; }
.map-image { width:100%; height:auto; display:block; pointer-events:none; }

/* Áreas clicáveis */
.clickable-area { position:absolute; width:100px; height:100px; border-radius:10px; cursor:pointer; pointer-events:auto; z-index:10; background-color: rgba(255,0,0,0); animation:pulseHover 2s infinite alternate; transition: transform 0.3s, box-shadow 0.3s, opacity 0.3s, filter 0.3s; }
.clickable-area:hover { transform:scale(1.15); box-shadow:0 0 25px 5px rgba(255,255,255,0.7); background-color:rgba(255,0,0,0.2); filter: brightness(1.5); }
@keyframes pulseHover {0%{transform:scale(1);opacity:0;}50%{transform:scale(1.05);opacity:0.2;}100%{transform:scale(1);opacity:0;}}

/* Tooltip */
.tooltip { position:fixed; background:rgba(0,0,0,0.7); color:#fff; padding:5px 10px; border-radius:5px; pointer-events:none; font-family:Arial; font-size:14px; opacity:0; transition:opacity 0.2s, transform 0.2s; z-index:100; }

/* Pop-up */
.popup { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; justify-content:center; align-items:center; z-index:999; opacity:0; transition:opacity 0.5s; }
.popup.show { display:flex; opacity:1; }
.popup img { max-width:80%; max-height:80%; border:4px solid #fff; border-radius:10px; box-shadow:0 0 20px rgba(255,255,255,0.5); transform:scale(0.8); transition:transform 0.5s; }
.popup.show img { transform:scale(1); }
.close-btn { position:absolute; top:20px; right:30px; font-size:50px; color:#fff; cursor:pointer; z-index:1000; }

/* Partículas flutuantes */
.particle { position:absolute; width:4px; height:4px; background:white; border-radius:50%; opacity:0.7; pointer-events:none; animation:floatParticle linear infinite; }
@keyframes floatParticle {0%{transform:translateY(0);}100%{transform:translateY(-1000px);}}
